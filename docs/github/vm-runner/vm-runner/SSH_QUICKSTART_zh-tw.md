**ç¹é«”ä¸­æ–‡** | [English](SSH_QUICKSTART.md)

---

# SSH Key å¿«é€Ÿä¸Šæ‰‹æŒ‡å—

> ğŸ“ **åŸå§‹ç¢¼ä½ç½®**: `src/vm-runner/`

## ğŸš€ ä¸‰æ­¥é©Ÿå®Œæˆ SSH Key è¨­å®š

### Step 1: ç”Ÿæˆ SSH Key(ç¬¬ä¸€æ¬¡ä½¿ç”¨)

é–‹å•Ÿ PowerShell,è¤‡è£½ä¸¦åŸ·è¡Œ:

```powershell
# ç”Ÿæˆ SSH key(è¨˜å¾—æ›¿æ›æˆæ‚¨çš„ email)
ssh-keygen -t rsa -b 4096 -C "your_email@example.com" -f "$env:USERPROFILE\.ssh\id_rsa"
```

**åŸ·è¡Œéç¨‹:**
1. æœƒè©¢å•æ‚¨å…©æ¬¡ passphrase(å¯†ç¢¼)
   - âœ… **å»ºè­°è¨­å®š**å¯†ç¢¼ä¿è­·ç§é‘°
   - è¼¸å…¥æ™‚ä¸æœƒé¡¯ç¤ºå­—å…ƒ(æ­£å¸¸ç¾è±¡)
   - æˆ–ç›´æ¥æŒ‰ Enter è·³é(ä¸å»ºè­°)

2. å®Œæˆå¾Œæœƒé¡¯ç¤ºæˆåŠŸè¨Šæ¯

### Step 2: å‚™ä»½åˆ° OneDrive

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œå‚™ä»½è…³æœ¬:

```powershell
# å¾å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œ
.\src\common-scripts\Backup-SSHKey.ps1
```

**è…³æœ¬æœƒè‡ªå‹•:**
- âœ… è¤‡è£½ SSH key åˆ° OneDrive
- âœ… å»ºç«‹æ­·å²å‚™ä»½(å¸¶æ—¥æœŸ)
- âœ… ç”¢ç”Ÿèªªæ˜æª”æ¡ˆ
- âœ… é¡¯ç¤ºå…¬é‘°é è¦½

### Step 3: å°‡å…¬é‘°åŠ å…¥ Terraform

```powershell
# è¤‡è£½å…¬é‘°åˆ°å‰ªè²¼ç°¿
Get-Content "$env:USERPROFILE\.ssh\id_rsa.pub" | Set-Clipboard
```

ç„¶å¾Œç·¨è¼¯ `src/vm-runner/terraform.tfvars`,è²¼ä¸Šå…¬é‘°:

```hcl
# src/vm-runner/terraform.tfvars
ssh_public_key = "ssh-rsa AAAAB3NzaC1yc2EAAA...è²¼ä¸Šå‰›æ‰è¤‡è£½çš„å…§å®¹... your_email@example.com"
```

âœ… **å®Œæˆ!** ç¾åœ¨å¯ä»¥é€²å…¥ `src/vm-runner` ç›®éŒ„åŸ·è¡Œ `terraform apply` éƒ¨ç½² VM äº†!

---

## ğŸ“± åœ¨å…¶ä»–é›»è…¦ä¸Šä½¿ç”¨(é‚„åŸå‚™ä»½)

ç•¶æ‚¨åœ¨æ–°é›»è…¦ä¸Šéœ€è¦ä½¿ç”¨ SSH key:

```powershell
# å¾å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œ
.\src\common-scripts\Restore-SSHKey.ps1
```

**è…³æœ¬æœƒè‡ªå‹•:**
- âœ… å¾ OneDrive è¤‡è£½ SSH key
- âœ… è¨­å®šæ­£ç¢ºçš„æª”æ¡ˆæ¬Šé™
- âœ… è¤‡è£½å…¬é‘°åˆ°å‰ªè²¼ç°¿
- âœ… é¡¯ç¤ºæ¸¬è©¦æŒ‡ä»¤

---

## ğŸ”„ å®šæœŸå‚™ä»½

æ¯æ¬¡æ›´æ–° SSH key å¾Œ,åŸ·è¡Œ:

```powershell
# å¾å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œ
.\src\common-scripts\Backup-SSHKey.ps1
```

æœƒè‡ªå‹•å»ºç«‹æ–°çš„æ­·å²å‚™ä»½,ä¸æœƒè¦†è“‹èˆŠçš„ã€‚

---

## ğŸ“š å®Œæ•´æ–‡æª”

- **è©³ç´°æ•™å­¸**: [SSH_KEY_GUIDE.md](SSH_KEY_GUIDE_zh-tw.md)
- **å‚™ä»½è…³æœ¬**: [Backup-SSHKey.ps1](../../src/common-scripts/Backup-SSHKey.ps1)
- **é‚„åŸè…³æœ¬**: [Restore-SSHKey.ps1](../../src/common-scripts/Restore-SSHKey.ps1)

---

## ğŸ†˜ å¸¸è¦‹å•é¡Œ

**Q: æˆ‘å¿˜è¨˜è¨­ passphrase äº†,æ€éº¼è¾¦?**  
A: é‡æ–°åŸ·è¡Œ Step 1 ç”Ÿæˆæ–°çš„ key,æœƒè¦†è“‹èˆŠçš„ã€‚

**Q: OneDrive å‚™ä»½å®‰å…¨å—?**  
A: åªè¦æ‚¨çš„ OneDrive å¸³è™Ÿæœ‰å¼·å¯†ç¢¼å’Œé›™é‡é©—è­‰å°±å®‰å…¨ã€‚æ›´å®‰å…¨çš„æ–¹å¼æ˜¯è¨­å®š passphraseã€‚

**Q: å¯ä»¥åœ¨å¤šå°é›»è…¦åŒæ™‚ä½¿ç”¨åŒä¸€å€‹ SSH key å—?**  
A: å¯ä»¥!ä½¿ç”¨é‚„åŸè…³æœ¬åœ¨æ¯å°é›»è…¦ä¸Šé‚„åŸå³å¯ã€‚

**Q: å¦‚ä½•æ¸¬è©¦ SSH key æ˜¯å¦æ­£å¸¸?**  
A: éƒ¨ç½² VM å¾Œ,åŸ·è¡Œ `ssh azureuser@<VM-IP>` æ¸¬è©¦é€£ç·šã€‚

---

## âš ï¸ å®‰å…¨æé†’

- âŒ **ä¸è¦**åˆ†äº«ç§é‘° (id_rsa)
- âŒ **ä¸è¦**å°‡ç§é‘°ä¸Šå‚³åˆ° GitHub
- âŒ **ä¸è¦**ç”¨ Email å‚³é€ç§é‘°
- âœ… **è¦**å®šæœŸå‚™ä»½
- âœ… **è¦**ä½¿ç”¨ passphrase ä¿è­·
- âœ… **è¦**ç¢ºä¿ OneDrive å¸³è™Ÿå®‰å…¨

---

**æº–å‚™å¥½äº†å—?** å¾ Step 1 é–‹å§‹å§!ğŸš€
